module.exports=[22517,e=>e.a(async(t,o)=>{try{let t=await e.y("playwright");e.n(t),o()}catch(e){o(e)}},!0),57775,e=>e.a(async(t,o)=>{try{var a=e.i(22517),n=t([a]);[a]=n.then?(await n)():n;class l{baseUrl="https://cincpro.chilipiper.com/concierge-router/link/lp-request-a-demo-agent-advice";async scrapeSlots(e,t,o,n){try{console.log(`üéØ Starting scrape for ${e} ${t} (${o})`);let l=await a.chromium.launch({headless:!0,args:["--no-sandbox","--disable-dev-shm-usage","--disable-gpu","--disable-web-security","--disable-features=VizDisplayCompositor","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-renderer-backgrounding","--disable-extensions","--disable-sync","--disable-default-apps","--hide-scrollbars","--mute-audio","--no-first-run","--no-default-browser-check","--disable-hang-monitor","--disable-prompt-on-repost","--disable-breakpad","--disable-features=site-per-process","--disable-site-isolation-trials","--disable-blink-features=AutomationControlled","--disable-infobars","--window-size=1280,720"]}),s=await l.newPage();s.setDefaultNavigationTimeout(6e4),await s.route("**/*",e=>{"image"===e.request().resourceType()||"stylesheet"===e.request().resourceType()||"font"===e.request().resourceType()?e.abort():e.continue()}),console.log(`Navigating to: ${this.baseUrl}`),await s.goto(this.baseUrl,{waitUntil:"domcontentloaded"}),await s.waitForTimeout(2e3),console.log("üîç Looking for form fields..."),await this.fillFieldWithFallback(s,['[data-test-id="GuestFormField-PersonFirstName"]','textbox[aria-label="First Name"]','input[aria-label="First Name"]','textbox:has-text("First Name")','input:has-text("First Name")','input[name="FirstName"]','input[name="first_name"]','input[name="firstName"]','input[placeholder*="First"]','input[placeholder*="first"]','input[id*="first"]','input[id*="First"]'],e,"First Name"),await this.fillFieldWithFallback(s,['[data-test-id="GuestFormField-PersonLastName"]','textbox[aria-label="Last Name"]','input[aria-label="Last Name"]','textbox:has-text("Last Name")','input:has-text("Last Name")','input[name="LastName"]','input[name="last_name"]','input[name="lastName"]','input[placeholder*="Last"]','input[placeholder*="last"]','input[id*="last"]','input[id*="Last"]'],t,"Last Name"),await this.fillFieldWithFallback(s,['[data-test-id="GuestFormField-PersonEmail"]','textbox[aria-label="Email"]','input[aria-label="Email"]','textbox:has-text("Email")','input:has-text("Email")','input[name="Email"]','input[name="email"]','input[type="email"]','input[placeholder*="email"]','input[placeholder*="Email"]','input[id*="email"]','input[id*="Email"]'],o,"Email"),await this.fillFieldWithFallback(s,['[data-test-id="PhoneField-input"]','textbox[aria-label="Phone number"]','input[aria-label="Phone number"]','textbox:has-text("Phone number")','input:has-text("Phone number")','input[name="Phone"]','input[name="phone"]','input[name="PhoneNumber"]','input[name="phone_number"]','input[type="tel"]','input[placeholder*="phone"]','input[placeholder*="Phone"]','input[id*="phone"]','input[id*="Phone"]'],n,"Phone");let r=!1;for(let e of['button[type="submit"]','input[type="submit"]','button:has-text("Submit")','button:has-text("Continue")','button:has-text("Next")','button:has-text("Book")','button:has-text("Schedule")','[data-testid*="submit"]','[data-testid*="continue"]',".submit-button",".continue-button"])try{console.log(`üîç Trying submit selector: ${e}`),await s.waitForSelector(e,{timeout:2e3}),await s.click(e),console.log(`‚úÖ Successfully clicked submit button using selector: ${e}`),r=!0;break}catch(t){console.log(`‚ùå Submit selector failed: ${e}`);continue}if(!r)throw Error("Could not find submit button with any of the provided selectors");console.log("Form submitted successfully"),console.log("‚è≥ Waiting 5 seconds for calendar to fully load..."),await s.waitForTimeout(5e3),console.log("‚úÖ Calendar should be fully loaded now");let i=!1;for(let e of['button:has-text("Monday")','button:has-text("Tuesday")','button:has-text("Wednesday")','button:has-text("Thursday")','button:has-text("Friday")','[data-test-id*="calendar"]','[data-test-id*="day"]','[data-id="calendar-day-button"]'])try{await s.waitForSelector(e,{timeout:1e4}),console.log(`‚úÖ Calendar loaded successfully using selector: ${e}`),i=!0;break}catch(t){console.log(`‚ùå Calendar selector failed: ${e}`);continue}if(!i)throw Error("Could not find calendar elements with any of the provided selectors");let c=await this.getAvailableSlots(s);await l.close();let u=[];for(let[e,t]of Object.entries(c))for(let o of t.slots)u.push({date:e,time:o,gmt:"GMT-05:00 America/Chicago (CDT)"});let d={success:!0,data:{total_slots:u.length,total_days:Object.keys(c).length,note:`Found ${Object.keys(c).length} days with ${u.length} total booking slots`,slots:u}};return console.log(`‚úÖ Scraping completed successfully: ${u.length} slots across ${Object.keys(c).length} days`),d}catch(e){return console.error("Scraping error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async fillFieldWithFallback(e,t,o,a){for(let n of t)try{console.log(`üîç Trying selector for ${a}: ${n}`),await e.waitForSelector(n,{timeout:2e3}),await e.fill(n,o),console.log(`‚úÖ Successfully filled ${a} using selector: ${n}`);return}catch(e){console.log(`‚ùå Selector failed for ${a}: ${n}`);continue}throw Error(`Could not find ${a} field with any of the provided selectors`)}async getAvailableSlots(e){let t={};console.log("üöÄ Starting comprehensive slot collection"),console.log("üéØ Goal: Collect ALL available booking days (9+ days)"),console.log("üìã Strategy: Emulate manual browser process - collect all days from current view, then navigate");for(let o=1;o<=3;o++){if(console.log(`
=====================================`),console.log(`=== COLLECTION ATTEMPT ${o}/3 ===`),console.log(`üìä Current total: ${Object.keys(t).length} days`),Object.keys(t).length>=9){console.log(`üéØ Target reached! Stopping collection.`);break}console.log(`‚è≥ Waiting for calendar to be ready...`),await e.waitForTimeout(1e3);let a=await this.getAllEnabledDayButtons(e);console.log(`üìÖ Found ${a.length} total enabled day buttons in current view`);let n=a.map(e=>e.dateKey);if(console.log(`üìã Button dates: ${n.join(", ")}`),0===a.length){console.log("‚ùå No enabled day buttons found. This is unexpected.");break}let l=0;for(let o of a)try{let a=o.dateKey;if(t[a]){console.log(`‚è≠Ô∏è Skipping ${a} - already collected`);continue}console.log(`üñ±Ô∏è Clicking ${a}...`),await o.button.click(),await e.waitForTimeout(1e3);let n=await this.getTimeSlotsForCurrentDay(e);if(console.log(`üìä Got ${n.length} slots for ${a}`),n.length>0&&(t[a]={slots:n},l++,console.log(`‚úÖ Added ${a}: ${n.length} slots (total days: ${Object.keys(t).length})`)),Object.keys(t).length>=9){console.log(`üéØ Target reached! Collected ${Object.keys(t).length} days.`);break}}catch(e){console.log(`‚ùå Error processing day button: ${e}`);continue}if(console.log(`üìä Progress: ${Object.keys(t).length} total days collected (${l} new from this attempt)`),Object.keys(t).length>=9||0===l){console.log(`‚úÖ Collection complete. Total days: ${Object.keys(t).length}`);break}if(Object.keys(t).length<9){console.log(`üîÑ Only have ${Object.keys(t).length} days (target: 9). Navigating to next week...`);let o=await this.navigateToNextWeek(e);if(console.log(`üß≠ Navigation result: ${o}`),o)console.log(`‚è≥ Waiting 5 seconds for calendar to update...`),await e.waitForTimeout(5e3),console.log(`‚úÖ Calendar updated, will continue in next iteration`);else{console.log(`‚ùå Navigation failed or button disabled. Collected ${Object.keys(t).length} days total.`);break}}}return console.log(`üèÅ Final result: Successfully collected ${Object.keys(t).length} days`),console.log(`üìã Collected dates: ${Object.keys(t).join(", ")}`),0===Object.keys(t).length?(console.warn("‚ö†Ô∏è No available booking slots found in any week"),console.info("üí° This could mean the calendar has no available slots or the page structure changed")):console.info(`‚úÖ Found ${Object.keys(t).length} days with available booking slots`),t}async getAllEnabledDayButtons(e){let t=[];console.log(`üîç getAllEnabledDayButtons() starting...`);try{console.log(`‚è≥ Waiting for 'button[data-test-id*="days:Oct"]' selector...`),await e.waitForSelector('button[data-test-id*="days:Oct"]',{timeout:5e3}),console.log(`‚úÖ Found Oct buttons`)}catch(o){console.log(`‚ö†Ô∏è Oct buttons not found, trying any day buttons...`);try{await e.waitForSelector('button[data-test-id*="days:"]',{timeout:2e3}),console.log(`‚úÖ Found any day buttons`)}catch(e){return console.log(`‚ùå No day buttons found with any selector`),t}}await e.waitForTimeout(500),console.log(`üîç Querying all day buttons with selector 'button[data-test-id*="days:"]'...`);let o=await e.$$('button[data-test-id*="days:"]');console.log(`üìä Total day buttons found: ${o.length}`);for(let e=0;e<o.length;e++)try{let a=o[e],n=await a.isEnabled(),l=await a.textContent();if(console.log(`üîç Button ${e+1}: enabled=${n}, text='${l?.substring(0,60)}...'`),n&&l){let o=l.replace("Press enter to navigate available slots","").trim().replace("is selected","").trim();t.push({button:a,dateKey:o}),console.log(`‚úÖ Added enabled button ${e+1}: ${o}`)}else console.log(`‚è≠Ô∏è Button ${e+1} skipped: ${!n?"disabled":"no text"}`)}catch(t){console.log(`‚ùå Error checking button ${e+1}: ${t}`)}return console.log(`üìä getAllEnabledDayButtons() complete: returning ${t.length} enabled buttons`),t}async getTimeSlotsForCurrentDay(e){let t=[];for(let o of['button:has-text("AM")','button:has-text("PM")','[data-test-id*="time"]','[data-id="time-slot-button"]'])try{let a=await e.$$(o);if(a.length>0){t=a;break}}catch(e){continue}return(await Promise.all(t.map(async e=>await e.textContent()))).filter(e=>e).map(e=>e.trim())}async getCurrentWeekSlots(e){let t=[],o=['button[data-test-id*="days:"]','button:has-text("Monday")','button:has-text("Tuesday")','button:has-text("Wednesday")','button:has-text("Thursday")','button:has-text("Friday")','button:has-text("Saturday")','button:has-text("Sunday")','[data-test-id*="day"]','[data-id="calendar-day-button"]'],a=!1;for(let t of o)try{await e.waitForSelector(t,{timeout:5e3}),a=!0;break}catch(e){continue}if(!a)return console.log("‚ùå No day buttons found"),t;await e.waitForTimeout(500);let n=[];for(let t of o)try{let o=await e.$$(t);if(o.length>0){n=o,console.log(`üîç Found ${n.length} day buttons using selector: ${t}`);break}}catch(e){console.log(`‚ùå Selector failed: ${t} - ${e}`);continue}if(0===n.length)return console.log("‚ùå No day buttons found with any selector"),t;let l=[];console.log(`üîç Checking ${n.length} day buttons for enabled status...`);for(let e=0;e<n.length;e++)try{let t=n[e],o=await t.isEnabled(),a=await t.textContent(),s=a?.includes("is selected")||!1;console.log(`üìÖ Button ${e+1}: '${a?.substring(0,50)}...' (enabled: ${o}, selected: ${s})`),o?(l.push({button:t,isSelected:s}),console.log(`‚úÖ Added enabled button ${e+1} to processing list`)):console.log(`‚ùå Button ${e+1} is disabled, skipping`)}catch(t){console.log(`‚ùå Error checking button ${e+1}: ${t}`);continue}console.log(`üìä Total enabled buttons found: ${l.length}`),console.log(`üöÄ Processing ${l.length} enabled day buttons...`);for(let o=0;o<l.length;o++)try{let{button:a,isSelected:n}=l[o];console.log(`üñ±Ô∏è Clicking day button ${o+1} (selected: ${n})`),await a.click(),await e.waitForTimeout(1e3);let s="Unknown Date";try{let e=await a.textContent();e&&(s=(s=e.replace("Press enter to navigate available slots","").trim()).replace("is selected","").trim())}catch(e){console.log(`‚ùå Error getting date from button: ${e}`)}let r=['button:has-text("AM")','button:has-text("PM")','[data-test-id*="time"]','[data-id="time-slot-button"]'],i=[];for(let t of r)try{let o=await e.$$(t);if(o.length>0){i=o;break}}catch(e){continue}let c=await Promise.all(i.map(async e=>await e.textContent()));c.length>0?(t.push({date:s,slots:c.filter(e=>e).map(e=>e.trim())}),console.log(`‚úÖ Found ${c.length} slots for ${s}`)):console.log(`‚ö†Ô∏è No slots found for ${s}`),await e.waitForTimeout(500)}catch(e){console.log(`‚ùå Error processing button ${o+1}: ${e}`);continue}return t}async navigateToNextWeek(e){console.log("üîç Looking for Next Week button...");try{console.log(`üîç Trying getByRole('button', { name: 'Next Week' })...`);let t=e.getByRole("button",{name:"Next Week"}),o=await t.isEnabled();if(console.log(`üìÖ Next week button found: enabled=${o}`),!o)return console.log(`‚ùå Next week button is disabled`),!1;{console.log(`‚û°Ô∏è Clicking next week button...`),await t.click(),console.log("‚úÖ Successfully clicked next week button"),await e.waitForTimeout(3e3),console.log("‚è≥ Completed 3-second wait");let o=!1;for(let t of['button[data-test-id*="days:"]','button:has-text("Monday")','button:has-text("Tuesday")','button:has-text("Wednesday")'])try{await e.waitForSelector(t,{timeout:3e3}),o=!0,console.log(`‚úÖ Calendar updated verified with selector: ${t}`);break}catch(e){console.log(`‚ùå Calendar update verification failed with selector: ${t}`);continue}if(o)return console.log("‚úÖ Successfully moved to next week"),await e.waitForTimeout(1e3),!0;return console.log("‚ö†Ô∏è Calendar update verification failed - but continuing anyway"),await e.waitForTimeout(1e3),!0}}catch(e){return console.log(`‚ùå Error finding/clicking Next Week button: ${e}`),!1}}}e.s(["ChiliPiperScraper",()=>l]),o()}catch(e){o(e)}},!1),58790,e=>e.a(async(t,o)=>{try{var a=e.i(89171),n=e.i(57775),l=t([n]);[n]=l.then?(await l)():l;let i=["cp_live_abc123def456ghi789jkl012mno345pqr678stu901vwx234yz567","cp_live_xyz789uvw456rst123qpo098nml765kji432hgf109edc876bca543","cp_live_internal_team_key_2024_secure_123456789abcdef","cp_live_demo_client_key_2024_secure_987654321fedcba"];async function s(e){try{console.log("üîç Get-Slots API Debug - Request received");let t=e.headers.get("Authorization")||"";if(console.log(`üîç Auth header: ${t.substring(0,20)}...`),!function(e){if(!e.startsWith("Bearer "))return!1;let t=e.substring(7);return i.includes(t)}(t))return console.log("‚ùå Authentication failed"),a.NextResponse.json({success:!1,error:"Unauthorized",message:"Invalid or missing API key. Please provide a valid Bearer token.",usage:{example:"Authorization: Bearer your-api-key-here"}},{status:401});console.log("‚úÖ Authentication successful");let o=await e.json();console.log(`‚úÖ Parsed data:`,o);let l=["first_name","last_name","email","phone"].filter(e=>!o[e]);if(l.length>0)return console.log(`‚ùå Missing required fields: ${l.join(", ")}`),a.NextResponse.json({success:!1,error:"Missing required fields",message:`The following fields are required: ${l.join(", ")}`},{status:400});console.log("üîç Starting scraping process...");let s=new n.ChiliPiperScraper,r=await s.scrapeSlots(o.first_name,o.last_name,o.email,o.phone);if(!r.success)return console.log(`‚ùå Scraping failed: ${r.error}`),a.NextResponse.json({success:!1,error:"Scraping failed",message:r.error},{status:500});return console.log("‚úÖ Scraping completed successfully"),console.log(`üìä Result: ${r.data?.total_days} days, ${r.data?.total_slots} slots`),a.NextResponse.json(r)}catch(e){if(console.error("‚ùå API error:",e),e instanceof SyntaxError)return a.NextResponse.json({success:!1,error:"Invalid JSON",message:"Request body must be valid JSON"},{status:400});return a.NextResponse.json({success:!1,error:"Internal Server Error",message:e instanceof Error?e.message:"Unknown error occurred"},{status:500})}}async function r(e){return new a.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}e.s(["OPTIONS",()=>r,"POST",()=>s]),o()}catch(e){o(e)}},!1),15690,e=>e.a(async(t,o)=>{try{var a=e.i(47909),n=e.i(74017),l=e.i(96250),s=e.i(59756),r=e.i(61916),i=e.i(14444),c=e.i(37092),u=e.i(69741),d=e.i(16795),g=e.i(87718),h=e.i(95169),p=e.i(47587),b=e.i(66012),y=e.i(70101),f=e.i(26937),m=e.i(10372),w=e.i(93695);e.i(52474);var x=e.i(220),$=e.i(58790),k=t([$]);[$]=k.then?(await k)():k;let E=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/get-slots/route",pathname:"/api/get-slots",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/get-slots/route.ts",nextConfigOutput:"",userland:$}),{workAsyncStorage:N,workUnitAsyncStorage:T,serverHooks:R}=E;function v(){return(0,l.patchFetch)({workAsyncStorage:N,workUnitAsyncStorage:T})}async function C(e,t,o){E.isDev&&(0,s.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let a="/api/get-slots/route";a=a.replace(/\/index$/,"")||"/";let l=await E.prepare(e,t,{srcPage:a,multiZoneDraftMode:!1});if(!l)return t.statusCode=400,t.end("Bad Request"),null==o.waitUntil||o.waitUntil.call(o,Promise.resolve()),null;let{buildId:$,params:k,nextConfig:v,parsedUrl:C,isDraftMode:N,prerenderManifest:T,routerServerContext:R,isOnDemandRevalidate:S,revalidateOnlyGenerated:F,resolvedPathname:A,clientReferenceManifest:P,serverActionsManifest:O}=l,_=(0,u.normalizeAppPath)(a),j=!!(T.dynamicRoutes[_]||T.routes[A]),M=async()=>((null==R?void 0:R.render404)?await R.render404(e,t,C,!1):t.end("This page could not be found"),null);if(j&&!N){let e=!!T.routes[A],t=T.dynamicRoutes[_];if(t&&!1===t.fallback&&!e){if(v.experimental.adapterPath)return await M();throw new w.NoFallbackError}}let q=null;!j||E.isDev||N||(q=A,q="/index"===q?"/":q);let D=!0===E.isDev||!j,I=j&&!D;O&&P&&(0,i.setReferenceManifestsSingleton)({page:a,clientReferenceManifest:P,serverActionsManifest:O,serverModuleMap:(0,c.createServerModuleMap)({serverActionsManifest:O})});let U=e.method||"GET",W=(0,r.getTracer)(),B=W.getActiveScopeSpan(),L={params:k,prerenderManifest:T,renderOpts:{experimental:{authInterrupts:!!v.experimental.authInterrupts},cacheComponents:!!v.cacheComponents,supportsDynamicResponse:D,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:v.cacheLife,waitUntil:o.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,o,a)=>E.onRequestError(e,t,a,R)},sharedContext:{buildId:$}},H=new d.NodeNextRequest(e),G=new d.NodeNextResponse(t),K=g.NextRequestAdapter.fromNodeNextRequest(H,(0,g.signalFromNodeResponse)(t));try{let l=async e=>E.handle(K,L).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let o=W.getRootSpanAttributes();if(!o)return;if(o.get("next.span_type")!==h.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${o.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=o.get("next.route");if(n){let t=`${U} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${U} ${a}`)}),i=!!(0,s.getRequestMeta)(e,"minimalMode"),c=async s=>{var r,c;let u=async({previousCacheEntry:n})=>{try{if(!i&&S&&F&&!n)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let a=await l(s);e.fetchMetrics=L.renderOpts.fetchMetrics;let r=L.renderOpts.pendingWaitUntil;r&&o.waitUntil&&(o.waitUntil(r),r=void 0);let c=L.renderOpts.collectedTags;if(!j)return await (0,b.sendResponse)(H,G,a,L.renderOpts.pendingWaitUntil),null;{let e=await a.blob(),t=(0,y.toNodeOutgoingHttpHeaders)(a.headers);c&&(t[m.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let o=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=m.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,n=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=m.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:x.CachedRouteKind.APP_ROUTE,status:a.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:o,expire:n}}}}catch(t){throw(null==n?void 0:n.isStale)&&await E.onRequestError(e,t,{routerKind:"App Router",routePath:a,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:I,isOnDemandRevalidate:S})},R),t}},d=await E.handleResponse({req:e,nextConfig:v,cacheKey:q,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:T,isRoutePPREnabled:!1,isOnDemandRevalidate:S,revalidateOnlyGenerated:F,responseGenerator:u,waitUntil:o.waitUntil,isMinimalMode:i});if(!j)return null;if((null==d||null==(r=d.value)?void 0:r.kind)!==x.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(c=d.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",S?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),N&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let g=(0,y.fromNodeOutgoingHttpHeaders)(d.value.headers);return i&&j||g.delete(m.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||g.get("Cache-Control")||g.set("Cache-Control",(0,f.getCacheControlHeader)(d.cacheControl)),await (0,b.sendResponse)(H,G,new Response(d.value.body,{headers:g,status:d.value.status||200})),null};B?await c(B):await W.withPropagatedContext(e.headers,()=>W.trace(h.BaseServerSpan.handleRequest,{spanName:`${U} ${a}`,kind:r.SpanKind.SERVER,attributes:{"http.method":U,"http.target":e.url}},c))}catch(t){if(t instanceof w.NoFallbackError||await E.onRequestError(e,t,{routerKind:"App Router",routePath:_,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:I,isOnDemandRevalidate:S})}),j)throw t;return await (0,b.sendResponse)(H,G,new Response(null,{status:500})),null}}e.s(["handler",()=>C,"patchFetch",()=>v,"routeModule",()=>E,"serverHooks",()=>R,"workAsyncStorage",()=>N,"workUnitAsyncStorage",()=>T]),o()}catch(e){o(e)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__76749b5e._.js.map